<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Longevity Lifestyle Test - Your Results</title>

    <!-- Fonts: Lora (Headlines), Poppins (Body), Raleway (CTAs) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lora:wght@400;500;600;700&family=Poppins:wght@300;400;500;600&family=Raleway:wght@500;600;700&display=swap" rel="stylesheet">

    <style>
        :root {
            /* LongevityPath Brand Colors */
            --color-bg: #F7F4EB;
            --color-card: #FFFBF5;
            --color-text: #0D3137;
            --color-text-muted: #29484C;
            --color-border: #E7E5E4;
            --color-primary: #00905A;
            --color-primary-light: rgba(0, 144, 90, 0.1);
            --color-accent: #F4A261;
            --color-teal: #0D3137;
            --color-teal-accent: #29484C;
            --color-danger: #DC2626;
            --color-danger-light: #FEE2E2;
            --radius: 20px;
            --radius-sm: 12px;
            --radius-button: 30px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--color-bg);
            color: var(--color-text);
            line-height: 1.6;
            min-height: 100vh;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 24px 16px;
        }

        /* Header */
        .header {
            text-align: center;
            padding: 24px 24px;
            background: #00905A;
            border-radius: var(--radius);
            color: #FFFBF5;
            margin-bottom: 32px;
            position: relative;
            overflow: hidden;
        }

        .header-logo {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 24px;
            position: relative;
        }

        .header-logo svg {
            fill: #FFFBF5;
        }

        .logo-icon {
            width: 100px;
            height: auto;
            margin-bottom: 12px;
        }

        .logo-text {
            width: 280px;
            height: auto;
        }

        .header h1 {
            font-family: 'Lora', Georgia, serif;
            font-size: 2.5rem;
            font-weight: 600;
            margin-bottom: 8px;
            position: relative;
        }

        .header p {
            opacity: 0.9;
            font-size: 1.1rem;
            position: relative;
        }

        .greeting {
            font-size: 1.25rem;
            margin-bottom: 4px;
            opacity: 0.95;
        }

        /* Score Circle */
        .score-section {
            display: flex;
            justify-content: center;
            margin: -60px 0 32px;
            position: relative;
            z-index: 2;
        }

        .score-circle {
            width: 140px;
            height: 140px;
            background: var(--color-card);
            border-radius: 50%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
            border: 4px solid var(--color-primary);
        }

        .score-value {
            font-family: 'Lora', Georgia, serif;
            font-size: 2.5rem;
            color: var(--color-primary);
            line-height: 1;
        }

        .score-label {
            font-size: 0.75rem;
            color: var(--color-text-muted);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-top: 4px;
        }

        /* Cards */
        .card {
            background: var(--color-card);
            border-radius: var(--radius);
            padding: 24px;
            margin-bottom: 24px;
            box-shadow: 0 4px 20px rgba(13, 49, 55, 0.08);
            border: none;
        }

        .card-title {
            font-family: 'Lora', Georgia, serif;
            font-size: 1.5rem;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        /* Info Grid */
        .info-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 16px;
        }

        .info-item {
            text-align: center;
            padding: 16px;
            background: var(--color-bg);
            border-radius: var(--radius-sm);
        }

        .info-value {
            font-family: 'Lora', Georgia, serif;
            font-size: 1.5rem;
            color: var(--color-primary);
        }

        .info-label {
            font-size: 0.8rem;
            color: var(--color-text-muted);
            margin-top: 4px;
        }

        /* Radar Chart Container */
        .chart-container {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 10px 0;
            min-height: 450px;
        }

        .radar-chart {
            max-width: 100%;
            height: auto;
            min-height: 400px;
        }

        /* Accordion */
        .accordion {
            border: 1px solid var(--color-border);
            border-radius: var(--radius-sm);
            margin-bottom: 12px;
            overflow: hidden;
        }

        .accordion:last-child {
            margin-bottom: 0;
        }

        .accordion-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 16px 20px;
            background: var(--color-bg);
            cursor: pointer;
            transition: background 0.2s;
            user-select: none;
        }

        .accordion-header:hover {
            background: #F0EDE4;
        }

        .accordion-title {
            display: flex;
            align-items: center;
            gap: 12px;
            font-weight: 500;
        }

        .accordion-right {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .accordion-score {
            font-weight: 600;
            color: var(--color-primary);
            font-size: 1.1rem;
        }

        .accordion-arrow {
            font-size: 1rem;
            color: var(--color-text-muted);
            transition: transform 0.3s;
        }

        .accordion.open .accordion-arrow {
            transform: rotate(180deg);
        }

        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
            background: var(--color-card);
        }

        .accordion.open .accordion-content {
            max-height: 1000px;
        }

        .accordion-inner {
            padding: 20px;
            border-top: 1px solid var(--color-border);
        }

        /* Score Bar */
        .score-bar-container {
            margin-bottom: 20px;
        }

        .score-bar-bg {
            height: 10px;
            background: #E7E5E4;
            border-radius: 5px;
            overflow: hidden;
        }

        .score-bar-fill {
            height: 100%;
            border-radius: 5px;
            transition: width 0.5s ease-out;
        }

        .score-bar-fill.excellent { background: linear-gradient(90deg, #00905A, #00A86B); }
        .score-bar-fill.good { background: linear-gradient(90deg, #F4A261, #F5B87A); }
        .score-bar-fill.needs-work { background: linear-gradient(90deg, #DC2626, #EF4444); }

        /* Answer Items */
        .answer-item {
            padding: 12px 16px;
            background: var(--color-bg);
            border-radius: var(--radius-sm);
            margin-bottom: 10px;
        }

        .answer-item:last-child {
            margin-bottom: 0;
        }

        .answer-question {
            font-size: 0.85rem;
            color: var(--color-text-muted);
            margin-bottom: 4px;
        }

        .answer-value {
            font-weight: 500;
            color: var(--color-text);
        }

        /* Recommendations */
        .recommendation {
            background: linear-gradient(135deg, rgba(0, 144, 90, 0.08) 0%, rgba(0, 144, 90, 0.15) 100%);
            border-radius: var(--radius-sm);
            padding: 20px;
            margin-bottom: 16px;
            border-left: 4px solid var(--color-primary);
        }

        .recommendation:last-child {
            margin-bottom: 0;
        }

        .recommendation-domain {
            font-weight: 600;
            color: var(--color-primary);
            margin-bottom: 8px;
            font-size: 1.1rem;
        }

        .recommendation-reason {
            color: var(--color-text-muted);
            font-size: 0.9rem;
            margin-bottom: 12px;
        }

        .habit-box {
            background: var(--color-card);
            border-radius: var(--radius-sm);
            padding: 16px;
            margin-bottom: 12px;
        }

        .habit-label {
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            color: var(--color-text-muted);
            margin-bottom: 4px;
        }

        .habit-text {
            font-weight: 500;
            color: var(--color-text);
        }

        .expected-result {
            font-size: 0.9rem;
            color: var(--color-text-muted);
            font-style: italic;
        }

        /* Summary */
        .summary-text {
            font-size: 1.1rem;
            line-height: 1.8;
            color: var(--color-text);
        }

        /* Steps */
        .steps-list p {
            margin-bottom: 8px;
            padding: 8px 0;
        }

        /* Context Form */
        .context-form {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .form-label {
            font-weight: 500;
            color: var(--color-text);
        }

        .form-select, .form-input {
            padding: 12px 16px;
            border: 1px solid var(--color-border);
            border-radius: var(--radius-sm);
            font-size: 1rem;
            font-family: inherit;
            background: var(--color-bg);
            color: var(--color-text);
            transition: border-color 0.2s, box-shadow 0.2s;
        }

        .form-select:focus, .form-input:focus {
            outline: none;
            border-color: var(--color-primary);
            box-shadow: 0 0 0 3px rgba(0, 144, 90, 0.1);
        }

        .form-hint {
            font-size: 0.8rem;
            color: var(--color-text-muted);
        }

        /* Checkbox Group */
        .checkbox-group {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 10px 16px;
            background: var(--color-bg);
            border: 1px solid var(--color-border);
            border-radius: var(--radius-sm);
            cursor: pointer;
            transition: all 0.2s;
        }

        .checkbox-item:hover {
            border-color: var(--color-primary);
        }

        .checkbox-item.selected {
            background: var(--color-primary-light);
            border-color: var(--color-primary);
        }

        .checkbox-item input {
            display: none;
        }

        .checkbox-item .checkmark {
            width: 20px;
            height: 20px;
            border: 2px solid var(--color-border);
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }

        .checkbox-item.selected .checkmark {
            background: var(--color-primary);
            border-color: var(--color-primary);
            color: #FFFBF5;
        }

        /* Generate Button - Brand: Amber with pill shape */
        .btn-generate {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            padding: 14px 28px;
            background: var(--color-accent);
            color: var(--color-teal);
            border: none;
            border-radius: var(--radius-button);
            font-size: 1.1rem;
            font-weight: 600;
            font-family: 'Raleway', sans-serif;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s, background 0.2s;
            margin-top: 10px;
        }

        .btn-generate:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(244, 162, 97, 0.4);
            background: #E8956B;
        }

        .btn-generate:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .btn-generate .spinner {
            width: 20px;
            height: 20px;
            border: 2px solid rgba(13,49,55,0.3);
            border-top-color: var(--color-teal);
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Habit Suggestions */
        .habit-suggestions {
            display: none;
            flex-direction: column;
            gap: 16px;
        }

        .habit-suggestions.visible {
            display: flex;
        }

        .habit-suggestion-card {
            background: var(--color-bg);
            border: 2px solid var(--color-border);
            border-radius: var(--radius-sm);
            padding: 20px;
            cursor: pointer;
            transition: all 0.2s;
            position: relative;
        }

        .habit-suggestion-card:hover {
            border-color: var(--color-primary);
        }

        .habit-suggestion-card.selected {
            border-color: var(--color-primary);
            background: var(--color-primary-light);
        }

        .habit-suggestion-card .select-indicator {
            position: absolute;
            top: 12px;
            right: 12px;
            width: 24px;
            height: 24px;
            border: 2px solid var(--color-border);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }

        .habit-suggestion-card.selected .select-indicator {
            background: var(--color-primary);
            border-color: var(--color-primary);
            color: #FFFBF5;
        }

        .habit-category {
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            color: var(--color-primary);
            margin-bottom: 8px;
            font-weight: 600;
        }

        .habit-formula {
            font-size: 1.1rem;
            font-weight: 500;
            color: var(--color-text);
            margin-bottom: 8px;
        }

        .habit-why {
            font-size: 0.9rem;
            color: var(--color-text-muted);
        }

        /* Custom Habit Input */
        .custom-habit-section {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid var(--color-border);
        }

        .custom-habit-toggle {
            display: flex;
            align-items: center;
            gap: 8px;
            color: var(--color-primary);
            font-weight: 500;
            cursor: pointer;
            margin-bottom: 12px;
        }

        .custom-habit-input {
            display: none;
        }

        .custom-habit-input.visible {
            display: block;
        }

        /* Save Habits Button - Brand: Amber with pill shape */
        .btn-save-habits {
            display: none;
            align-items: center;
            justify-content: center;
            gap: 10px;
            padding: 14px 28px;
            background: var(--color-accent);
            color: var(--color-teal);
            border: none;
            border-radius: var(--radius-button);
            font-size: 1.1rem;
            font-weight: 600;
            font-family: 'Raleway', sans-serif;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s, background 0.2s;
            margin-top: 20px;
            width: 100%;
        }

        .btn-save-habits.visible {
            display: flex;
        }

        .btn-save-habits:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(244, 162, 97, 0.4);
            background: #E8956B;
        }

        /* Success Message */
        .success-message {
            display: none;
            background: var(--color-primary-light);
            border: 1px solid var(--color-primary);
            border-radius: var(--radius-sm);
            padding: 20px;
            text-align: center;
        }

        .success-message.visible {
            display: block;
        }

        .success-message h3 {
            color: var(--color-primary);
            margin-bottom: 8px;
        }

        /* Hidden sections */
        .hidden {
            display: none !important;
        }

        /* Footer */
        .footer {
            text-align: center;
            padding: 32px;
            color: var(--color-text-muted);
            font-size: 0.875rem;
        }

        .footer-logo {
            width: 120px;
            height: auto;
            margin-bottom: 12px;
            opacity: 0.7;
        }

        /* Responsive */
        @media (max-width: 640px) {
            .header h1 {
                font-size: 1.75rem;
            }

            .info-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .accordion-header {
                padding: 14px 16px;
            }

            .checkbox-group {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">

        <!-- Header -->
        <header class="header">
            <!-- Full Logo with Eternity Dots -->
            <div class="header-logo">
                <!-- Eternity Dots Icon -->
                <svg class="logo-icon" viewBox="16.57 64.58 250.33 154.30" xmlns="http://www.w3.org/2000/svg">
                    <path fill="#FFFBF5" d="M184.96,68.76c2.93-3.48,8.12-3.94,11.61-1.01,3.48,2.93,3.94,8.12,1.01,11.61-2.93,3.48-8.12,3.94-11.61,1.01-3.48-2.93-3.94-8.12-1.01-11.61ZM176.17,89.89c-1.32.23-2.2,1.5-1.96,2.84.23,1.34,1.49,2.23,2.81,2,1.32-.23,2.2-1.5,1.96-2.84s-1.49-2.23-2.81-2ZM162.72,84.3c3.79,3.19,9.45,2.69,12.64-1.1,3.19-3.79,2.69-9.45-1.1-12.64-3.79-3.19-9.45-2.69-12.64,1.1s-2.69,9.45,1.1,12.64ZM136.1,158.7c-2.59-2.47-6.64-2.37-9.04.21-2.4,2.58-2.24,6.68.35,9.15,2.59,2.47,6.64,2.37,9.04-.21,2.4-2.58,2.24-6.68-.35-9.15ZM104.15,183.23c2.23,2.12,5.71,2.04,7.77-.18,2.06-2.22,1.93-5.74-.3-7.86s-5.71-2.04-7.77.18c-2.06,2.22-1.93,5.74.3,7.86ZM121.75,139.01c-1.56,1.7-1.43,4.42.28,6.07,1.71,1.65,4.36,1.61,5.92-.09s1.43-4.42-.28-6.07-4.36-1.61-5.92.09ZM118.07,154.39c1.6,1.54,4.08,1.5,5.53-.09,1.46-1.59,1.34-4.13-.26-5.67-1.6-1.54-4.08-1.5-5.53.09-1.46,1.59-1.34,4.13.26,5.67ZM108.23,159.02c-1.38-1.33-3.51-1.29-4.76.08-1.25,1.37-1.15,3.55.22,4.87,1.38,1.32,3.51,1.29,4.76-.08,1.25-1.37,1.15-3.55-.22-4.87ZM131.82,132.15c2.87-3.41,2.42-8.51-.99-11.37-3.41-2.87-8.51-2.42-11.37.99-2.87,3.41-2.42,8.51.99,11.37,3.41,2.87,8.51,2.42,11.37-.99ZM177.23,109.38c1.93-2.33,1.6-5.84-.74-7.83-2.34-1.99-5.81-1.72-7.74.62-1.93,2.33-1.6,5.84.74,7.83,2.34,1.99,5.81,1.72,7.74-.62ZM177.77,113.53c-.81.14-1.34.92-1.19,1.75.15.83.93,1.39,1.74,1.25.81-.14,1.34-.92,1.19-1.75-.15-.83-.93-1.39-1.74-1.25ZM103.55,171.2c.81-.09,1.39-.84,1.28-1.68s-.85-1.44-1.66-1.35-1.39.84-1.28,1.68.85,1.44,1.66,1.35ZM186.85,124.27c1.08-1.32.87-3.31-.45-4.46s-3.28-1-4.36.31c-1.08,1.32-.87,3.31.45,4.46,1.33,1.14,3.28,1,4.36-.31ZM178.57,189.12c2.9-.49,4.81-3.3,4.27-6.28-.54-2.98-3.33-4.99-6.24-4.5-2.9.49-4.81,3.3-4.27,6.28.54,2.98,3.33,4.99,6.24,4.5ZM173.77,125.94c1.45,1.25,3.57,1.09,4.75-.34,1.17-1.43.95-3.61-.49-4.85-1.45-1.25-3.57-1.09-4.75.34-1.17,1.43-.95,3.61.49,4.85ZM166.37,119.41c.12.63.71,1.06,1.33.96.62-.1,1.02-.7.91-1.34-.12-.63-.71-1.06-1.33-.96-.62.1-1.02.7-.91,1.34ZM135.32,174.18c-.7.08-1.2.73-1.12,1.44s.72,1.22,1.43,1.14c.7-.08,1.2-.73,1.12-1.44-.08-.71-.72-1.22-1.43-1.14ZM141.41,95.45c4.1,3.45,10.22,2.91,13.67-1.19,3.45-4.1,2.91-10.22-1.19-13.67-4.1-3.45-10.22-2.91-13.67,1.19-3.45,4.1-2.91,10.22,1.19,13.67ZM164.06,107.65c-2.53-2.16-6.29-1.86-8.38.67-2.09,2.52-1.73,6.32.8,8.47s6.28,1.86,8.38-.67c2.09-2.52,1.73-6.32-.8-8.47ZM159.65,101.08c1.01-.18,1.68-1.15,1.5-2.17-.18-1.02-1.14-1.7-2.15-1.53s-1.68,1.15-1.5,2.17c.18,1.02,1.14,1.7,2.15,1.53ZM159.93,126.34c-.08-.44-.49-.73-.92-.66s-.71.49-.63.92c.08.44.49.73.92.66.43-.07.71-.49.63-.92ZM163.69,131.71c-1.68-1.45-4.16-1.27-5.52.4-1.37,1.67-1.11,4.2.58,5.65s4.16,1.27,5.52-.4c1.37-1.67,1.11-4.2-.58-5.65ZM108.33,106.55c2.92-.33,4.99-3.03,4.62-6.03-.38-3-3.05-5.17-5.98-4.84s-4.99,3.03-4.62,6.03c.38,3,3.05,5.17,5.98,4.84ZM124.11,113.41c4.41,3.71,11,3.13,14.7-1.28,3.71-4.41,3.13-11-1.28-14.7s-11-3.13-14.7,1.28c-3.71,4.41-3.13,11,1.28,14.7ZM112.44,90.51c4.78-.57,8.18-4.95,7.61-9.79-.57-4.84-4.91-8.3-9.69-7.73-4.78.57-8.18,4.95-7.61,9.79.57,4.84,4.91,8.3,9.69,7.73ZM154.97,127.1c2.25-2.71,1.86-6.79-.86-9.11-2.73-2.32-6.76-2-9.01.72-2.25,2.71-1.86,6.79.86,9.11,2.73,2.32,6.76,2,9.01-.72ZM143.47,155.48c2.57-2.77,2.4-7.15-.38-9.79s-7.1-2.54-9.67.23-2.4,7.15.38,9.79,7.1,2.54,9.67-.23ZM114.27,167.24c.62-.07,1.06-.64.98-1.28s-.65-1.1-1.27-1.03c-.62.07-1.06.64-.98,1.28.08.64.65,1.1,1.27,1.03ZM125.31,177.63c2.23-2.4,2.08-6.21-.33-8.5-2.41-2.29-6.17-2.21-8.4.2-2.23,2.4-2.08,6.21.33,8.5,2.41,2.29,6.17,2.21,8.4-.2ZM111.24,155.42c-1.35,1.48-1.25,3.84.24,5.27,1.49,1.43,3.79,1.4,5.15-.08,1.35-1.48,1.25-3.84-.24-5.27-1.49-1.43-3.79-1.4-5.15.08ZM122.75,158.52c-.43.05-.73.45-.68.89.06.44.45.76.88.71.43-.05.73-.45.68-.89-.06-.44-.45-.76-.88-.71ZM149.34,140.43c2.41-2.9,2-7.27-.92-9.75-2.92-2.48-7.23-2.14-9.64.77-2.41,2.9-2,7.27.92,9.75,2.92,2.48,7.23,2.14,9.64-.77ZM146.91,110.82c-.12-.71-.79-1.18-1.49-1.06s-1.16.79-1.04,1.5c.12.71.79,1.18,1.49,1.06.7-.12,1.16-.79,1.04-1.5ZM161.48,148.26c1.46-1.79,1.19-4.39-.62-5.94-1.8-1.55-4.45-1.36-5.91.42-1.46,1.79-1.19,4.49.62,6.04,1.8,1.55,4.45,1.26,5.91-.52ZM190.84,107.11c1.78-2.14,1.47-5.36-.68-7.19-2.15-1.83-5.34-1.58-7.11.56s-1.47,5.36.68,7.19c2.15,1.83,5.34,1.58,7.11-.57ZM200.79,186.77c2.52-.43,4.18-2.87,3.71-5.46s-2.9-4.34-5.42-3.91c-2.52.43-4.18,2.87-3.71,5.46.47,2.59,2.9,4.34,5.42,3.91ZM195.82,193.19c.35-.43.29-1.07-.14-1.43-.43-.36-1.06-.31-1.42.11-.35.43-.29,1.07.14,1.43.43.37,1.06.31,1.42-.11ZM215.66,130.71c-1.57.27-2.6,1.79-2.31,3.4.29,1.61,1.8,2.7,3.37,2.43,1.57-.27,2.6-1.79,2.31-3.4-.29-1.61-1.8-2.7-3.37-2.43ZM195.97,94.46c1.63-.29,2.72-1.86,2.42-3.51-.29-1.65-1.85-2.76-3.48-2.47s-2.72,1.86-2.42,3.51c.29,1.65,1.85,2.76,3.48,2.47ZM199.04,126.73c-.89,1.08-.72,2.72.37,3.66,1.09.94,2.7.83,3.58-.26.89-1.08.72-2.72-.37-3.66-1.09-.94-2.7-.83-3.58.26ZM195.25,125.76c.98-1.2.8-3.02-.41-4.06-1.21-1.04-2.99-.92-3.97.28s-.8,3.02.41,4.06c1.21,1.04,2.99.92,3.97-.29ZM205.86,169.62c.41-.5.33-1.25-.17-1.68-.5-.43-1.24-.38-1.64.12-.41.5-.33,1.25.17,1.68.5.43,1.24.38,1.64-.12ZM197.32,173.78c-.31.38-.25.96.13,1.29.38.33.95.29,1.26-.09.31-.38.25-.96-.13-1.29-.38-.33-.95-.29-1.26.09ZM199.91,115.72c-1.19.2-1.97,1.35-1.75,2.57.22,1.22,1.37,2.04,2.55,1.84,1.19-.2,1.97-1.35,1.75-2.57s-1.37-2.04-2.55-1.84ZM189.93,116.46c1-.17,1.66-1.14,1.47-2.16s-1.15-1.72-2.14-1.55-1.66,1.14-1.47,2.16,1.15,1.72,2.14,1.55ZM237.73,117.12c-2.56.45-4.27,2.92-3.81,5.51.46,2.6,2.9,4.33,5.47,3.88,2.56-.45,4.27-2.92,3.81-5.52-.46-2.59-2.9-4.33-5.47-3.88ZM230.73,94.76c2.86,2.41,7.14,2.03,9.54-.83,2.41-2.86,2.03-7.14-.83-9.54s-7.14-2.03-9.54.83c-2.41,2.86-2.03,7.14.83,9.54ZM198.03,109.93c1.96,1.67,4.86,1.44,6.48-.52,1.62-1.95,1.34-4.88-.62-6.55-1.96-1.67-4.86-1.44-6.48.51-1.62,1.95-1.34,4.89.62,6.55ZM239.17,140.91c.51,2.91,3.26,4.86,6.13,4.35,2.87-.51,4.79-3.27,4.28-6.18s-3.26-4.86-6.13-4.35c-2.87.51-4.79,3.27-4.28,6.18ZM213.47,175.24c-.44-2.39-2.68-4.01-5.01-3.61-2.33.39-3.87,2.65-3.43,5.04.44,2.39,2.68,4.01,5.01,3.61,2.33-.4,3.87-2.65,3.43-5.04ZM190.35,177.6c.21-.26.17-.66-.09-.89-.27-.23-.65-.2-.87.06s-.17.66.09.89.65.2.87-.06ZM207.23,186.92c-.51.62-.42,1.55.2,2.07.62.53,1.54.46,2.05-.16.51-.62.42-1.55-.2-2.07-.62-.53-1.54-.46-2.05.16ZM257.01,132.94c2.24,1.88,5.59,1.59,7.48-.65s1.59-5.59-.65-7.48c-2.24-1.89-5.59-1.59-7.48.65-1.88,2.24-1.59,5.59.65,7.48ZM221.23,180.09c.67-.81.56-2.02-.26-2.71s-2.01-.6-2.68.21c-.67.81-.56,2.02.26,2.71.81.69,2.01.6,2.68-.21ZM227.56,140.61c1.39,1.18,3.44,1.02,4.58-.36,1.14-1.38.95-3.45-.44-4.63-1.39-1.18-3.44-1.02-4.58.36-1.14,1.38-.95,3.45.44,4.63ZM226.78,127.25c1.3-1.57,1.08-3.93-.5-5.27-1.58-1.34-3.91-1.16-5.21.41-1.3,1.57-1.08,3.93.5,5.27,1.58,1.34,3.91,1.16,5.21-.41ZM223.25,156.01c-.36-2-2.24-3.35-4.19-3.02-1.95.33-3.23,2.22-2.87,4.22s2.24,3.35,4.19,3.02c1.95-.33,3.23-2.22,2.87-4.22ZM229.47,167.85c.83-1,.69-2.5-.32-3.35-1-.85-2.49-.73-3.32.26-.83,1-.69,2.5.32,3.35,1,.85,2.49.74,3.32-.26ZM233.08,154.17c.99-1.19.82-2.98-.38-3.99-1.19-1.02-2.96-.88-3.95.31s-.82,2.98.38,3.99,2.96.88,3.95-.31ZM209.28,83.79c3.17,2.67,7.91,2.25,10.57-.92,2.67-3.17,2.25-7.91-.92-10.57-3.17-2.67-7.91-2.25-10.57.92s-2.25,7.91.92,10.57ZM228.38,111.22c2.25-.4,3.75-2.57,3.35-4.85s-2.55-3.81-4.8-3.41c-2.25.4-3.75,2.57-3.35,4.85.4,2.28,2.55,3.81,4.8,3.41ZM210.69,110.92c-1.46,1.76-1.21,4.41.56,5.91,1.77,1.5,4.39,1.3,5.85-.46,1.46-1.76,1.21-4.41-.56-5.91-1.77-1.5-4.39-1.3-5.85.46ZM216.66,145.45c.33,1.8,2.02,3.03,3.78,2.73s2.92-2,2.59-3.81c-.33-1.8-2.02-3.03-3.78-2.73-1.76.3-2.92,2-2.59,3.81ZM213,153.63c.6-.73.49-1.84-.25-2.47-.74-.64-1.82-.56-2.42.17-.6.73-.49,1.84.25,2.47.74.64,1.82.56,2.42-.17ZM216.74,171.19c2.14-.36,3.55-2.44,3.15-4.63-.4-2.2-2.46-3.68-4.6-3.32-2.14.36-3.55,2.44-3.15,4.63.4,2.2,2.46,3.68,4.6,3.32ZM208.82,162.23c.62.53,1.53.47,2.03-.15s.41-1.54-.21-2.08c-.62-.53-1.53-.47-2.03.15-.5.61-.41,1.54.21,2.08ZM212.35,145c.69-.85.56-2.13-.29-2.87s-2.11-.65-2.81.2c-.69.85-.56,2.13.29,2.87.86.74,2.11.65,2.81-.2ZM205.8,137.16c.97.84,2.4.74,3.2-.23.79-.97.64-2.43-.33-3.27-.97-.84-2.4-.74-3.2.23-.79.97-.64,2.43.33,3.27ZM206.93,124.87c.26,1.41,1.58,2.37,2.96,2.14s2.29-1.57,2.03-2.98c-.26-1.41-1.58-2.37-2.96-2.14-1.38.23-2.29,1.57-2.03,2.98ZM212.25,93.13c-1.94.34-3.23,2.21-2.89,4.18.35,1.97,2.2,3.28,4.14,2.94s3.23-2.21,2.89-4.18c-.35-1.97-2.2-3.28-4.14-2.94ZM63.87,102.32c-.71.77-.67,1.99.1,2.72.77.73,1.98.71,2.69-.06.71-.77.67-1.99-.1-2.72-.77-.73-1.98-.71-2.69.06ZM81.85,204.22c-3.12,3.31-2.95,8.53.36,11.64,3.32,3.12,8.53,2.95,11.64-.36,3.12-3.31,2.95-8.53-.36-11.64s-8.53-2.95-11.64.36ZM90.14,176.87c-1.89,2.04-1.77,5.27.28,7.22,2.05,1.95,5.24,1.87,7.13-.17,1.89-2.04,1.77-5.27-.28-7.22-2.05-1.95-5.24-1.87-7.13.17ZM83.36,180.24c1.72-1.86,1.61-4.8-.25-6.58-1.86-1.77-4.77-1.71-6.5.15-1.72,1.86-1.61,4.8.25,6.58,1.86,1.77,4.77,1.71,6.5-.15ZM95.08,159.97c-1.15,1.25-1.06,3.26.2,4.48,1.26,1.22,3.22,1.19,4.37-.07,1.15-1.25,1.06-3.26-.2-4.48-1.26-1.22-3.22-1.19-4.37.07ZM103.82,194.89c1.33-.16,2.28-1.38,2.12-2.72-.16-1.35-1.37-2.31-2.7-2.15-1.33.16-2.28,1.38-2.12,2.72.16,1.35,1.37,2.31,2.7,2.15ZM72.22,155.94c-1.39.16-2.37,1.44-2.19,2.87.18,1.43,1.45,2.46,2.84,2.3,1.39-.16,2.37-1.44,2.19-2.87-.18-1.43-1.45-2.46-2.84-2.3ZM123,186.29c-.12-1.03-1.05-1.77-2.06-1.65s-1.74,1.05-1.62,2.08c.12,1.03,1.05,1.77,2.06,1.64,1.02-.12,1.74-1.05,1.62-2.08ZM104.26,201.61c-3.39,3.61-3.22,9.29.39,12.68s9.29,3.22,12.68-.39c3.39-3.61,3.22-9.29-.39-12.68-3.61-3.39-9.29-3.22-12.68.39ZM24.59,131.37c1.73-1.84,1.64-4.74-.2-6.47-1.84-1.73-4.74-1.64-6.47.2-1.73,1.84-1.64,4.74.2,6.47,1.84,1.73,4.74,1.64,6.47-.2ZM125.12,191.7c-3.67,3.9-3.48,10.05.43,13.72,3.91,3.67,10.05,3.48,13.72-.43,3.67-3.91,3.48-10.05-.43-13.72s-10.05-3.48-13.72.43ZM25.51,147.39c-2.14-2.01-5.49-1.9-7.5.23-2.01,2.14-1.9,5.49.23,7.5,2.14,2.01,5.49,1.9,7.5-.23,2.01-2.14,1.9-5.49-.23-7.5ZM30.82,108.6c1.45-1.55,1.38-3.98-.17-5.43s-3.98-1.38-5.43.17c-1.45,1.55-1.38,3.98.17,5.43,1.55,1.45,3.98,1.38,5.43-.17ZM39.15,146.37c2.9-.34,4.96-3,4.61-5.94-.35-2.93-2.98-5.03-5.88-4.69s-4.96,3-4.61,5.94c.35,2.93,2.98,5.03,5.88,4.69ZM25.4,168.98c-2.28,2.43-2.17,6.25.26,8.54,2.43,2.28,6.25,2.17,8.54-.27,2.28-2.43,2.17-6.25-.26-8.54-2.43-2.28-6.25-2.17-8.54.26ZM52.88,170.68c-2.27.27-3.89,2.35-3.62,4.65.27,2.3,2.33,3.94,4.6,3.67,2.27-.27,3.89-2.35,3.62-4.65-.27-2.3-2.33-3.94-4.6-3.67ZM40.05,187.27c-2.56,2.73-2.43,7.01.3,9.57,2.73,2.56,7.01,2.43,9.57-.3,2.56-2.73,2.43-7.01-.3-9.57s-7.01-2.43-9.57.3ZM59.82,199.46c-2.84,3.02-2.69,7.77.33,10.61,3.02,2.84,7.77,2.69,10.61-.33s2.69-7.77-.33-10.61c-3.02-2.84-7.77-2.69-10.61.33ZM242.97,153.05c-3.18.56-5.31,3.63-4.74,6.85.57,3.22,3.61,5.38,6.79,4.82,3.18-.56,5.31-3.63,4.74-6.85-.57-3.23-3.61-5.39-6.79-4.83ZM223.23,208.02c-.84,1-.71,2.5.29,3.35,1,.84,2.5.71,3.35-.29s.71-2.5-.29-3.35c-1-.84-2.5-.71-3.35.29ZM241.38,192.79c-1.1,1.31-.93,3.27.38,4.38,1.31,1.1,3.28.93,4.38-.38,1.1-1.31.93-3.27-.38-4.38-1.31-1.1-3.27-.93-4.38.38ZM225.44,183.3c-3.81.67-6.34,4.34-5.66,8.19.68,3.85,4.31,6.44,8.12,5.77s6.34-4.34,5.66-8.19-4.31-6.44-8.12-5.77ZM40.65,128.09c3.21-.38,5.5-3.33,5.11-6.58-.39-3.25-3.3-5.58-6.51-5.2-3.21.38-5.5,3.33-5.11,6.58s3.3,5.58,6.51,5.2ZM244.14,174.95c-.62-3.54-3.96-5.91-7.46-5.3-3.5.61-5.82,3.98-5.2,7.52.62,3.54,3.96,5.91,7.46,5.3s5.82-3.98,5.2-7.52ZM265.27,148.32c-1.93-1.62-4.82-1.37-6.44.56-1.62,1.93-1.37,4.82.56,6.44,1.93,1.62,4.82,1.37,6.44-.56,1.62-1.93,1.37-4.82-.56-6.44ZM253.88,171.96c-1.36,1.62-1.15,4.05.47,5.41,1.62,1.36,4.05,1.15,5.41-.47s1.15-4.05-.47-5.41c-1.62-1.36-4.05-1.15-5.41.47ZM255.91,111.38c2.14-2.55,1.81-6.36-.74-8.51s-6.36-1.81-8.51.74c-2.15,2.55-1.81,6.36.74,8.51s6.36,1.81,8.51-.74ZM95.95,94.32c-2.73.31-4.66,2.83-4.31,5.64.35,2.8,2.85,4.83,5.58,4.52s4.66-2.83,4.31-5.64-2.85-4.83-5.58-4.52ZM173.39,194.59c-4.74.83-7.9,5.4-7.05,10.2.84,4.8,5.37,8.01,10.11,7.18s7.9-5.4,7.05-10.2c-.84-4.8-5.37-8.01-10.11-7.18ZM170.96,129.71c1.27-1.55,1.03-3.9-.53-5.25-1.57-1.35-3.86-1.18-5.13.37-1.27,1.55-1.03,3.9.54,5.25,1.57,1.35,3.86,1.18,5.13-.37ZM210.07,192.75c-4.12.72-6.86,4.69-6.13,8.86.73,4.17,4.67,6.96,8.78,6.24,4.12-.72,6.86-4.69,6.13-8.86-.73-4.17-4.67-6.96-8.78-6.24ZM142.36,174.77c-3.95,4.2-3.74,10.8.46,14.75,4.2,3.95,10.8,3.74,14.75-.46,3.95-4.2,3.74-10.8-.46-14.75-4.2-3.95-10.8-3.74-14.75.46ZM202.01,216.19c-.58.69-.49,1.73.2,2.31.69.58,1.73.49,2.31-.2.58-.69.49-1.73-.2-2.31-.69-.58-1.73-.49-2.31.2ZM189.64,189.86c2.71-.46,4.5-3.09,3.99-5.87-.51-2.78-3.12-4.66-5.83-4.2-2.71.46-4.5,3.09-3.99,5.87s3.12,4.66,5.83,4.2ZM191.65,196.77c-4.43.78-7.38,5.05-6.59,9.53.79,4.48,5.02,7.49,9.45,6.71,4.43-.78,7.38-5.05,6.59-9.53-.79-4.48-5.02-7.49-9.45-6.71ZM162.26,154.99c-3.41-2.87-8.51-2.42-11.37.99-2.87,3.41-2.42,8.51.99,11.38,3.41,2.87,8.51,2.42,11.37-.99s2.42-8.51-.99-11.37ZM64.52,129.49c1.97-.22,3.35-2.04,3.1-4.05-.25-2.02-2.05-3.47-4.01-3.25-1.96.22-3.35,2.04-3.1,4.05.25,2.02,2.05,3.47,4.01,3.25ZM65.94,146.05c-1.58.18-2.7,1.64-2.5,3.26s1.65,2.8,3.23,2.62,2.7-1.64,2.5-3.26c-.2-1.62-1.65-2.79-3.23-2.62ZM60.81,159.93c1.39-1.5,1.3-3.86-.2-5.29s-3.84-1.37-5.23.12c-1.39,1.5-1.3,3.86.2,5.29,1.5,1.43,3.84,1.37,5.23-.12ZM63.7,140.81c1.77-.2,3.03-1.84,2.8-3.66s-1.85-3.13-3.62-2.94-3.03,1.84-2.8,3.66c.23,1.82,1.85,3.13,3.62,2.94ZM72.26,115.02c-.28-2.21-2.25-3.81-4.41-3.57-2.16.24-3.68,2.23-3.4,4.45.28,2.21,2.25,3.81,4.41,3.57,2.16-.24,3.68-2.23,3.4-4.45ZM73.72,140.68c.74-.81.68-2.1-.13-2.88-.81-.78-2.07-.76-2.81.04-.74.81-.68,2.1.13,2.88.81.78,2.07.76,2.81-.04ZM75.35,122.93c.54-.58.49-1.52-.1-2.09s-1.5-.55-2.04.03c-.54.59-.49,1.52.1,2.09.59.57,1.5.55,2.04-.03ZM73.15,131.64c.64-.7.59-1.81-.11-2.48-.7-.68-1.79-.66-2.43.04-.64.7-.59,1.81.11,2.48.7.68,1.79.66,2.43-.04ZM55.52,146.03c1.22-1.31,1.14-3.4-.18-4.65-1.32-1.25-3.38-1.21-4.59.11-1.22,1.31-1.14,3.4.18,4.65,1.32,1.25,3.38,1.21,4.59-.11ZM82.87,153.15c-1.04-1-2.65-.98-3.59.06-.95,1.03-.87,2.68.17,3.68,1.04,1,2.65.98,3.59-.06.95-1.03.87-2.68-.17-3.68ZM81.01,163.32c-1.2.13-2.04,1.24-1.89,2.47.15,1.23,1.25,2.12,2.45,1.98,1.2-.13,2.04-1.24,1.89-2.47-.15-1.23-1.25-2.12-2.45-1.98ZM94.56,106.52c-.23.25-.21.65.04.89.25.24.64.24.87-.01.23-.25.21-.65-.04-.89-.25-.24-.64-.24-.87.01ZM70.3,166.03c-1.68-1.6-4.31-1.54-5.86.14-1.56,1.68-1.45,4.33.23,5.93,1.68,1.6,4.31,1.54,5.86-.14,1.56-1.68,1.45-4.33-.23-5.93ZM44.45,88.51c1.18-1.25,1.11-3.22-.14-4.39s-3.22-1.11-4.39.14-1.11,3.22.14,4.39c1.25,1.18,3.22,1.11,4.39-.14ZM77.03,149.32c.84-.92.78-2.39-.15-3.28-.93-.89-2.36-.87-3.2.05-.84.92-.78,2.39.15,3.28.93.89,2.36.87,3.2-.05ZM58.41,117.36c.88-.95.82-2.46-.13-3.37-.95-.91-2.44-.87-3.33.08-.88.95-.82,2.46.13,3.37.95.91,2.44.87,3.33-.08ZM50.59,127.53c-1.05,1.13-.98,2.93.15,4.01,1.14,1.08,2.91,1.04,3.96-.09,1.05-1.13.98-2.93-.15-4.01-1.14-1.08-2.91-1.04-3.96.09ZM67.13,182.46c-1.96.23-3.35,2.03-3.12,4.01.24,1.98,2.01,3.4,3.97,3.17s3.35-2.03,3.12-4.01c-.24-1.98-2.01-3.4-3.97-3.17ZM85.07,67.35c.62-.66.59-1.7-.07-2.32-.66-.62-1.7-.59-2.32.07-.62.66-.59,1.7.07,2.32.66.62,1.7.59,2.32-.07ZM63.43,74.32c.9-.96.85-2.46-.1-3.36-.96-.9-2.46-.85-3.36.1-.9.96-.85,2.46.1,3.36s2.46.85,3.36-.1ZM75.72,90.3c4.15-.49,7.11-4.3,6.61-8.51s-4.27-7.21-8.42-6.72c-4.15.49-7.11,4.3-6.61,8.5s4.27,7.21,8.42,6.72ZM79.85,106.63c-.3-2.41-2.45-4.15-4.8-3.89-2.35.26-4.01,2.43-3.71,4.84.3,2.41,2.45,4.15,4.8,3.89,2.35-.26,4.01-2.43,3.71-4.84ZM42.75,154.79c-2.58.31-4.43,2.68-4.11,5.29.31,2.62,2.66,4.49,5.24,4.18,2.58-.31,4.43-2.68,4.11-5.29-.31-2.62-2.66-4.49-5.24-4.18ZM59.85,98.88c3.84-.46,6.57-3.98,6.11-7.86-.46-3.89-3.95-6.67-7.78-6.21s-6.57,3.98-6.11,7.86,3.95,6.67,7.78,6.21ZM92.03,171.33c1.01-.11,1.72-1.04,1.59-2.07-.13-1.03-1.05-1.78-2.05-1.66-1.01.11-1.72,1.04-1.59,2.07s1.05,1.78,2.05,1.66ZM40.7,106.17c.42,3.57,3.62,6.12,7.15,5.7,3.52-.42,6.04-3.65,5.61-7.22-.42-3.57-3.62-6.12-7.15-5.7-3.52.42-6.04,3.65-5.61,7.22ZM85.28,80.09c.54,4.52,4.59,7.76,9.06,7.23,4.46-.53,7.65-4.63,7.11-9.15s-4.59-7.76-9.06-7.23-7.65,4.63-7.11,9.15ZM80.35,115.29c.43-.47.4-1.23-.08-1.69s-1.21-.45-1.65.03c-.43.47-.4,1.23.08,1.69.48.46,1.21.45,1.65-.03ZM78.22,96.27c.55-.59.51-1.52-.08-2.08-.59-.56-1.51-.54-2.06.05s-.51,1.52.08,2.08c.59.56,1.51.54,2.06-.05ZM85.83,106.23c2.54-.29,4.34-2.63,4.01-5.24-.33-2.61-2.65-4.49-5.19-4.21-2.54.29-4.34,2.63-4.01,5.24.33,2.61,2.65,4.49,5.19,4.21ZM86.07,108.68c-.33.36-.31.94.06,1.29.36.35.93.34,1.26-.02.33-.36.31-.94-.06-1.29-.36-.35-.93-.34-1.26.02ZM81.69,192.58c.2,1.66,1.69,2.85,3.33,2.66s2.81-1.7,2.62-3.37-1.69-2.85-3.33-2.66c-1.64.2-2.81,1.7-2.62,3.37ZM91.45,92.06c.38-.41.35-1.05-.06-1.44-.41-.39-1.04-.37-1.42.03-.38.41-.35,1.05.06,1.44.41.39,1.04.37,1.42-.03ZM90.94,162.02c1.05-1.14.96-2.97-.19-4.08-1.15-1.11-2.93-1.08-3.98.06-1.05,1.14-.96,2.97.19,4.08,1.15,1.11,2.93,1.08,3.98-.06Z"/>
                </svg>
                <!-- LongevityPath Text -->
                <svg class="logo-text" viewBox="4.82 18.10 429.15 66" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#FFFBF5">
                        <path d="M10.52 22.11L10.52 61.13L25.80 61.13L25.80 65.76L4.82 65.76L4.82 22.11L10.52 22.11ZM46.85 66.33Q42.02 66.33 38.11 64.13Q34.20 61.94 31.97 57.90Q29.75 53.86 29.75 48.54L29.75 48.54Q29.75 43.28 32.04 39.24Q34.32 35.20 38.27 33.04Q42.21 30.88 47.10 30.88L47.10 30.88Q51.98 30.88 55.93 33.04Q59.87 35.20 62.16 39.21Q64.45 43.21 64.45 48.54L64.45 48.54Q64.45 53.86 62.10 57.90Q59.75 61.94 55.74 64.13Q51.73 66.33 46.85 66.33L46.85 66.33ZM46.85 61.32Q49.92 61.32 52.61 59.87Q55.30 58.43 56.96 55.55Q58.62 52.67 58.62 48.54L58.62 48.54Q58.62 44.40 56.99 41.52Q55.37 38.64 52.73 37.23Q50.10 35.82 47.04 35.82L47.04 35.82Q43.90 35.82 41.30 37.23Q38.71 38.64 37.14 41.52Q35.57 44.40 35.57 48.54L35.57 48.54Q35.57 52.73 37.11 55.62Q38.64 58.50 41.21 59.91Q43.78 61.32 46.85 61.32L46.85 61.32ZM88.68 30.81Q94.95 30.81 98.83 34.60Q102.71 38.39 102.71 45.53L102.71 45.53L102.71 65.76L97.08 65.76L97.08 46.35Q97.08 41.21 94.51 38.49Q91.94 35.76 87.49 35.76L87.49 35.76Q82.99 35.76 80.32 38.58Q77.66 41.40 77.66 46.78L77.66 46.78L77.66 65.76L71.96 65.76L71.96 31.44L77.66 31.44L77.66 36.33Q79.35 33.70 82.27 32.25Q85.18 30.81 88.68 30.81L88.68 30.81ZM126.20 30.88Q130.65 30.88 134.00 32.82Q137.35 34.76 138.98 37.70L138.98 37.70L138.98 31.44L144.74 31.44L144.74 66.51Q144.74 71.21 142.73 74.87Q140.73 78.54 137.00 80.61Q133.28 82.67 128.33 82.67L128.33 82.67Q121.57 82.67 117.06 79.48Q112.55 76.28 111.73 70.77L111.73 70.77L117.37 70.77Q118.31 73.90 121.25 75.81Q124.20 77.72 128.33 77.72L128.33 77.72Q133.03 77.72 136.00 74.78Q138.98 71.84 138.98 66.51L138.98 66.51L138.98 59.31Q137.29 62.32 133.97 64.32Q130.65 66.33 126.20 66.33L126.20 66.33Q121.63 66.33 117.90 64.07Q114.18 61.82 112.05 57.75Q109.92 53.67 109.92 48.48L109.92 48.48Q109.92 43.21 112.05 39.24Q114.18 35.26 117.90 33.07Q121.63 30.88 126.20 30.88L126.20 30.88ZM138.98 48.54Q138.98 44.66 137.41 41.77Q135.85 38.89 133.18 37.36Q130.52 35.82 127.33 35.82L127.33 35.82Q124.13 35.82 121.50 37.33Q118.87 38.83 117.31 41.71Q115.74 44.59 115.74 48.48L115.74 48.48Q115.74 52.42 117.31 55.33Q118.87 58.25 121.50 59.78Q124.13 61.32 127.33 61.32L127.33 61.32Q130.52 61.32 133.18 59.78Q135.85 58.25 137.41 55.33Q138.98 52.42 138.98 48.54L138.98 48.54ZM185.70 47.29Q185.70 48.91 185.51 50.73L185.51 50.73L158.08 50.73Q158.39 55.80 161.56 58.65Q164.72 61.50 169.23 61.50L169.23 61.50Q172.92 61.50 175.40 59.78Q177.87 58.06 178.87 55.18L178.87 55.18L185.01 55.18Q183.63 60.13 179.50 63.23Q175.37 66.33 169.23 66.33L169.23 66.33Q164.34 66.33 160.49 64.13Q156.64 61.94 154.45 57.90Q152.25 53.86 152.25 48.54L152.25 48.54Q152.25 43.21 154.38 39.21Q156.51 35.20 160.37 33.04Q164.22 30.88 169.23 30.88L169.23 30.88Q174.11 30.88 177.87 33.01Q181.63 35.14 183.66 38.86Q185.70 42.59 185.70 47.29L185.70 47.29ZM179.81 46.10Q179.81 42.84 178.37 40.49Q176.93 38.14 174.46 36.92Q171.98 35.70 168.98 35.70L168.98 35.70Q164.66 35.70 161.62 38.46Q158.58 41.21 158.14 46.10L158.14 46.10L179.81 46.10ZM195.28 31.44L205.99 60.50L216.64 31.44L222.71 31.44L209.25 65.76L202.61 65.76L189.14 31.44L195.28 31.44ZM231.29 25.87Q229.67 25.87 228.54 24.74Q227.41 23.61 227.41 21.98L227.41 21.98Q227.41 20.35 228.54 19.23Q229.67 18.10 231.29 18.10L231.29 18.10Q232.86 18.10 233.96 19.23Q235.05 20.35 235.05 21.98L235.05 21.98Q235.05 23.61 233.96 24.74Q232.86 25.87 231.29 25.87L231.29 25.87ZM228.35 31.44L234.05 31.44L234.05 65.76L228.35 65.76L228.35 31.44ZM259.67 36.14L250.71 36.14L250.71 56.37Q250.71 58.87 251.77 59.91Q252.84 60.94 255.47 60.94L255.47 60.94L259.67 60.94L259.67 65.76L254.53 65.76Q249.77 65.76 247.39 63.57Q245.01 61.38 245.01 56.37L245.01 56.37L245.01 36.14L240.56 36.14L240.56 31.44L245.01 31.44L245.01 22.80L250.71 22.80L250.71 31.44L259.67 31.44L259.67 36.14ZM290.23 31.44L296.12 31.44L275.45 81.92L269.56 81.92L276.33 65.39L262.48 31.44L268.81 31.44L279.58 59.25L290.23 31.44ZM331.00 34.89Q331.00 40.33 327.28 43.94Q323.55 47.54 315.91 47.54L315.91 47.54L307.52 47.54L307.52 65.76L301.82 65.76L301.82 22.11L315.91 22.11Q323.30 22.11 327.15 25.68Q331.00 29.25 331.00 34.89L331.00 34.89ZM315.91 42.84Q320.67 42.84 322.92 40.77Q325.18 38.71 325.18 34.89L325.18 34.89Q325.18 26.81 315.91 26.81L315.91 26.81L307.52 26.81L307.52 42.84L315.91 42.84ZM335.95 48.48Q335.95 43.21 338.08 39.24Q340.21 35.26 343.93 33.07Q347.66 30.88 352.23 30.88L352.23 30.88Q356.74 30.88 360.06 32.82Q363.38 34.76 365.01 37.70L365.01 37.70L365.01 31.44L370.77 31.44L370.77 65.76L365.01 65.76L365.01 59.37Q363.32 62.38 359.97 64.35Q356.62 66.33 352.17 66.33L352.17 66.33Q347.60 66.33 343.90 64.07Q340.21 61.82 338.08 57.75Q335.95 53.67 335.95 48.48L335.95 48.48ZM365.01 48.54Q365.01 44.66 363.44 41.77Q361.88 38.89 359.22 37.36Q356.55 35.82 353.36 35.82L353.36 35.82Q350.17 35.82 347.54 37.33Q344.91 38.83 343.34 41.71Q341.77 44.59 341.77 48.48L341.77 48.48Q341.77 52.42 343.34 55.33Q344.91 58.25 347.54 59.78Q350.17 61.32 353.36 61.32L353.36 61.32Q356.55 61.32 359.22 59.78Q361.88 58.25 363.44 55.33Q365.01 52.42 365.01 48.54L365.01 48.54ZM396.33 36.14L387.37 36.14L387.37 56.37Q387.37 58.87 388.43 59.91Q389.50 60.94 392.13 60.94L392.13 60.94L396.33 60.94L396.33 65.76L391.19 65.76Q386.43 65.76 384.05 63.57Q381.67 61.38 381.67 56.37L381.67 56.37L381.67 36.14L377.22 36.14L377.22 31.44L381.67 31.44L381.67 22.80L387.37 22.80L387.37 31.44L396.33 31.44L396.33 36.14ZM420.25 30.81Q424.13 30.81 427.26 32.47Q430.40 34.13 432.18 37.45Q433.97 40.77 433.97 45.53L433.97 45.53L433.97 65.76L428.33 65.76L428.33 46.35Q428.33 41.21 425.76 38.49Q423.19 35.76 418.75 35.76L418.75 35.76Q414.24 35.76 411.58 38.58Q408.91 41.40 408.91 46.78L408.91 46.78L408.91 65.76L403.21 65.76L403.21 19.42L408.91 19.42L408.91 36.33Q410.60 33.70 413.58 32.25Q416.55 30.81 420.25 30.81L420.25 30.81Z"/>
                    </g>
                </svg>
            </div>
            <p class="greeting">Hello <span id="userName">John Doe</span>,</p>
            <h1>Your Longevity Score</h1>
            <p>Created on <span id="testDate">01/25/2026</span></p>
        </header>

        <!-- Score Circle -->
        <div class="score-section">
            <div class="score-circle">
                <div class="score-value" id="percentage">66%</div>
                <div class="score-label" id="totalPoints">46/70 Points</div>
            </div>
        </div>

        <!-- Personal Info -->
        <div class="card">
            <div class="info-grid">
                <div class="info-item">
                    <div class="info-value" id="age">42</div>
                    <div class="info-label">Age</div>
                </div>
                <div class="info-item">
                    <div class="info-value" id="gender">Male</div>
                    <div class="info-label">Gender</div>
                </div>
                <div class="info-item">
                    <div class="info-value" id="bmi">25.5</div>
                    <div class="info-label">BMI</div>
                </div>
                <div class="info-item">
                    <div class="info-value" id="height">180</div>
                    <div class="info-label">Height (cm)</div>
                </div>
            </div>
        </div>

        <!-- Radar Chart -->
        <div class="card">
            <h2 class="card-title">Your Health Profile</h2>
            <div class="chart-container">
                <svg id="radarChart" class="radar-chart" viewBox="0 0 500 500" width="100%" height="450"></svg>
            </div>
            <div style="display: flex; justify-content: center; gap: 24px; margin-top: 8px; font-size: 0.85rem; color: #29484C;">
                <div style="display: flex; align-items: center; gap: 8px;">
                    <div style="width: 20px; height: 12px; background: rgba(0, 144, 90, 0.3); border: 2px solid #00905A; border-radius: 2px;"></div>
                    <span>Current</span>
                </div>
                <div style="display: flex; align-items: center; gap: 8px;">
                    <div style="width: 20px; height: 0; border-top: 2px dashed #9CA3AF;"></div>
                    <span>Goal (4 weeks)</span>
                </div>
            </div>
        </div>

        <!-- Score Details with Accordions -->
        <div class="card">
            <h2 class="card-title">Your Scores in Detail</h2>
            <p style="color: var(--color-text-muted); margin-bottom: 20px; font-size: 0.9rem;">
                Click on a category to see your answers
            </p>
            <div id="accordionList"></div>
        </div>

        <!-- AI Summary -->
        <div class="card" id="summaryCard">
            <h2 class="card-title">AI Coach Analysis</h2>
            <p class="summary-text" id="summaryText">
                Your overall result shows a solid foundation with strengths in the medical area and wellbeing.
            </p>
        </div>

        <!-- Habit Planning Section -->
        <div class="card" id="habitPlanningCard">
            <h2 class="card-title">Plan Your Habits</h2>

            <p style="color: var(--color-text-muted); margin-bottom: 24px;">
                Answer a few questions about your daily routine so we can suggest personalized Tiny Habits.
            </p>

            <!-- Context Form -->
            <form id="contextForm" class="context-form">

                <!-- Question 1: Wake up time -->
                <div class="form-group">
                    <label class="form-label">When do you usually wake up?</label>
                    <select id="wakeUpTime" class="form-select" required>
                        <option value="">Please select...</option>
                        <option value="before_6">Before 6:00 AM</option>
                        <option value="6_7">6:00 - 7:00 AM</option>
                        <option value="7_8">7:00 - 8:00 AM</option>
                        <option value="8_9">8:00 - 9:00 AM</option>
                        <option value="after_9">After 9:00 AM</option>
                    </select>
                </div>

                <!-- Question 2: Work location -->
                <div class="form-group">
                    <label class="form-label">Where do you mainly work?</label>
                    <select id="workLocation" class="form-select" required>
                        <option value="">Please select...</option>
                        <option value="home">From home (Home Office)</option>
                        <option value="office">In the office</option>
                        <option value="hybrid">Hybrid (both)</option>
                        <option value="traveling">On the road / Field work</option>
                        <option value="other">Other</option>
                    </select>
                </div>

                <!-- Question 3: Energy peak -->
                <div class="form-group">
                    <label class="form-label">When do you have the most energy?</label>
                    <select id="energyPeak" class="form-select" required>
                        <option value="">Please select...</option>
                        <option value="morning">Morning (6-10 AM)</option>
                        <option value="late_morning">Late morning (10 AM-12 PM)</option>
                        <option value="afternoon">Afternoon (2-5 PM)</option>
                        <option value="evening">Evening (after 6 PM)</option>
                    </select>
                </div>

                <!-- Question 4: Existing routines -->
                <div class="form-group">
                    <label class="form-label">Which routines do you already have? (Multiple selection)</label>
                    <p class="form-hint">These can serve as "anchors" for new habits</p>
                    <div class="checkbox-group" id="routinesGroup">
                        <label class="checkbox-item" data-value="morning_coffee">
                            <input type="checkbox" name="routines" value="morning_coffee">
                            <span class="checkmark">✓</span>
                            <span>Morning coffee</span>
                        </label>
                        <label class="checkbox-item" data-value="breakfast">
                            <input type="checkbox" name="routines" value="breakfast">
                            <span class="checkmark">✓</span>
                            <span>Breakfast</span>
                        </label>
                        <label class="checkbox-item" data-value="lunch_break">
                            <input type="checkbox" name="routines" value="lunch_break">
                            <span class="checkmark">✓</span>
                            <span>Lunch break</span>
                        </label>
                        <label class="checkbox-item" data-value="end_of_work">
                            <input type="checkbox" name="routines" value="end_of_work">
                            <span class="checkmark">✓</span>
                            <span>End of work day</span>
                        </label>
                        <label class="checkbox-item" data-value="dinner">
                            <input type="checkbox" name="routines" value="dinner">
                            <span class="checkmark">✓</span>
                            <span>Dinner</span>
                        </label>
                        <label class="checkbox-item" data-value="brushing_teeth">
                            <input type="checkbox" name="routines" value="brushing_teeth">
                            <span class="checkmark">✓</span>
                            <span>Brushing teeth</span>
                        </label>
                    </div>
                </div>

                <!-- Question 5: Biggest hurdle -->
                <div class="form-group">
                    <label class="form-label">What is your biggest hurdle with new habits?</label>
                    <select id="biggestHurdle" class="form-select" required>
                        <option value="">Please select...</option>
                        <option value="time">Not enough time</option>
                        <option value="motivation">Lack of motivation</option>
                        <option value="forgetting">I forget</option>
                        <option value="energy">Too little energy</option>
                        <option value="unsure">Don't know where to start</option>
                    </select>
                </div>

                <!-- Question 6: Focus area -->
                <div class="form-group">
                    <label class="form-label">Which area would you like to improve first?</label>
                    <select id="focusArea" class="form-select" required>
                        <option value="">Please select...</option>
                        <option value="energy">More energy</option>
                        <option value="nutrition">Better nutrition</option>
                        <option value="sleep">Better sleep</option>
                        <option value="stress">Less stress</option>
                        <option value="movement">More movement</option>
                        <option value="auto">Let AI decide (lowest score)</option>
                    </select>
                </div>

                <button type="submit" class="btn-generate" id="generateBtn">
                    <span>Generate My Habits</span>
                </button>
            </form>

            <!-- Habit Suggestions (initially hidden) -->
            <div id="habitSuggestions" class="habit-suggestions">
                <h3 style="margin-bottom: 8px;">Your Personalized Tiny Habits</h3>
                <p style="color: var(--color-text-muted); margin-bottom: 16px; font-size: 0.9rem;">
                    Select 1-3 habits you want to start with:
                </p>

                <div id="habitSuggestionsList"></div>

                <!-- Custom Habit -->
                <div class="custom-habit-section">
                    <div class="custom-habit-toggle" onclick="toggleCustomHabit()">
                        <span>+</span>
                        <span>Add custom habit</span>
                    </div>
                    <div id="customHabitInput" class="custom-habit-input">
                        <div class="form-group">
                            <label class="form-label">Your custom Tiny Habit:</label>
                            <input type="text" id="customHabitText" class="form-input"
                                   placeholder="After [Anchor] → [Mini-behavior]">
                            <p class="form-hint">Example: "After waking up → 3 deep breaths"</p>
                        </div>
                    </div>
                </div>

                <button id="saveHabitsBtn" class="btn-save-habits" onclick="saveSelectedHabits()">
                    Save Selected Habits
                </button>
            </div>

            <!-- Success Message -->
            <div id="successMessage" class="success-message">
                <h3>Perfect!</h3>
                <p>Your habits have been saved. You will receive daily reminders starting tomorrow.</p>
            </div>
        </div>

        <!-- AI Recommendations -->
        <div class="card" id="recommendationsCard">
            <h2 class="card-title">Your Top 3 Priorities</h2>
            <div id="recommendationsList"></div>
        </div>

        <!-- Next Steps -->
        <div class="card">
            <h2 class="card-title">Next Steps</h2>
            <div class="steps-list">
                <p><strong>1.</strong> Choose ONE Tiny Habit from the list above</p>
                <p><strong>2.</strong> Practice it daily for 2 weeks</p>
                <p><strong>3.</strong> Celebrate every small success!</p>
                <p><strong>4.</strong> Only add the next habit once the first one is automatic</p>
            </div>
        </div>

        <!-- Footer -->
        <footer class="footer">
            <p>Longevity Lifestyle Test</p>
            <p style="margin-top: 8px;">For questions, contact your coach.</p>
        </footer>
    </div>

    <script>
        // ========================================
        // CONFIGURATION
        // ========================================

        // n8n Webhook URL for habit generation
        const HABIT_WEBHOOK_URL = 'https://alasslop.app.n8n.cloud/webhook/generate-habits';

        // n8n Webhook URL for saving habits
        const SAVE_HABITS_WEBHOOK_URL = 'https://alasslop.app.n8n.cloud/webhook/save-habits';

        // Score configuration with questions
        // ORDER: Medical at 12 o'clock (scientific framework), then clockwise
        // Medical = collaboration with doctor | Other 6 = personal responsibility
        const SCORE_CONFIG = {
            medical: {
                label: "Medical",
                labelLine1: "Medical",
                labelLine2: "",
                questions: [
                    { id: "general_health", question: "General health (1-10)" },
                    { id: "chronic_issues", question: "Chronic conditions?" },
                    { id: "last_checkup", question: "Last health checkup" },
                    { id: "medications", question: "Regular medications?" }
                ]
            },
            energy: {
                label: "Energy",
                labelLine1: "Energy",
                labelLine2: "",
                questions: [
                    { id: "energy_level", question: "How would you rate your current energy level?" },
                    { id: "exercise_minutes", question: "Minutes of exercise per day" },
                    { id: "exhaustion", question: "How often do you feel exhausted?" }
                ]
            },
            nutrition: {
                label: "Nutrition",
                labelLine1: "Nutrition",
                labelLine2: "",
                questions: [
                    { id: "nutrition_satisfaction", question: "How satisfied are you with your nutrition?" },
                    { id: "vegetables", question: "Portions of fruits and vegetables daily" },
                    { id: "processed_food", question: "How often fast food per week?" },
                    { id: "water", question: "Do you drink enough water?" }
                ]
            },
            sleepStress: {
                label: "Sleep & Stress",
                labelLine1: "Sleep &",
                labelLine2: "Stress",
                questions: [
                    { id: "sleep_hours", question: "Hours of sleep per night" },
                    { id: "wake_ups", question: "How often do you wake up at night?" },
                    { id: "sleep_quality", question: "Sleep quality (1-10)" },
                    { id: "stress_level", question: "How stressed do you feel?" }
                ]
            },
            wellbeing: {
                label: "Wellbeing",
                labelLine1: "Wellbeing",
                labelLine2: "",
                questions: [
                    { id: "life_satisfaction", question: "How satisfied are you with your life?" },
                    { id: "positive_emotions", question: "How often do you experience positive emotions?" },
                    { id: "social_quality", question: "Quality of your social relationships" }
                ]
            },
            mindset: {
                label: "Mindset",
                labelLine1: "Mindset",
                labelLine2: "",
                questions: [
                    { id: "growth_belief", question: "Belief in improvement through effort" },
                    { id: "persistence", question: "Persistence with difficult tasks" },
                    { id: "health_control", question: "Conviction you can influence your health" }
                ]
            },
            habitsTime: {
                label: "Habits & Time",
                labelLine1: "Habits &",
                labelLine2: "Time",
                questions: [
                    { id: "health_minutes", question: "Minutes per day for health" },
                    { id: "relaxation", question: "How often time for relaxation?" },
                    { id: "nature_time", question: "Time in nature per day" },
                    { id: "routine_strength", question: "How established are your daily routines?" }
                ]
            }
        };

        // Demo data
        const DEMO_DATA = {
            name: "John Doe",
            email: "john@example.com",
            age: 42,
            gender: "Male",
            bmi: 25.5,
            height: 180,
            testDate: new Date().toLocaleDateString('en-US'),
            scores: {
                medical: 9,
                energy: 7,
                nutrition: 5,
                sleepStress: 6,
                wellbeing: 8,
                mindset: 7,
                habitsTime: 4
            },
            goals: {
                medical: 9,
                energy: 8,
                nutrition: 7,
                sleepStress: 8,
                wellbeing: 9,
                mindset: 8,
                habitsTime: 6
            },
            answers: {
                medical: {
                    general_health: "9/10",
                    chronic_issues: "No",
                    last_checkup: "This year",
                    medications: "No"
                },
                energy: {
                    energy_level: "7/10",
                    exercise_minutes: "30 minutes",
                    exhaustion: "Rarely"
                },
                nutrition: {
                    nutrition_satisfaction: "5/10",
                    vegetables: "2-3 portions",
                    processed_food: "3-5x per week",
                    water: "Sometimes"
                },
                sleepStress: {
                    sleep_hours: "6.5 hours",
                    wake_ups: "1-2 times",
                    sleep_quality: "6/10",
                    stress_level: "Medium"
                },
                wellbeing: {
                    life_satisfaction: "8/10",
                    positive_emotions: "Daily",
                    social_quality: "8/10"
                },
                mindset: {
                    growth_belief: "7/10",
                    persistence: "7/10",
                    health_control: "8/10"
                },
                habitsTime: {
                    health_minutes: "20 minutes",
                    relaxation: "Rarely",
                    nature_time: "15 minutes",
                    routine_strength: "Weak"
                }
            },
            aiRecommendations: {
                summary: "Your overall result shows a solid foundation with strengths in the medical area and wellbeing. The greatest improvement potential lies in Habits & Time and Nutrition.",
                priorities: [
                    {
                        domain: "Habits & Time",
                        reason: "At 4/10, this is your lowest score. This is the key to all other improvements.",
                        habit: "After lunch → Walk for 10 minutes",
                        expected: "In 4 weeks: More energy in the afternoon"
                    },
                    {
                        domain: "Nutrition",
                        reason: "Nutrition is the foundation for all health areas.",
                        habit: "After waking up → Drink a glass of water",
                        expected: "In 4 weeks: Better hydration"
                    },
                    {
                        domain: "Sleep & Stress",
                        reason: "Good sleep amplifies all other improvements.",
                        habit: "After dinner → Put phone on airplane mode",
                        expected: "In 4 weeks: Faster falling asleep"
                    }
                ]
            }
        };

        // Global variables
        let currentData = null;
        let selectedHabits = [];

        // ========================================
        // LOAD DATA
        // ========================================

        function loadData() {
            const params = new URLSearchParams(window.location.search);
            const encodedData = params.get('data');

            if (encodedData) {
                try {
                    return JSON.parse(atob(encodedData));
                } catch (e) {
                    console.error('Error decoding:', e);
                    return DEMO_DATA;
                }
            }
            return DEMO_DATA;
        }

        // ========================================
        // HELPER FUNCTIONS
        // ========================================

        function getScoreClass(score) {
            if (score >= 7) return 'excellent';
            if (score >= 4) return 'good';
            return 'needs-work';
        }

        function toggleAccordion(element) {
            element.classList.toggle('open');
        }

        function getLowestScoreCategory(scores) {
            let lowest = { category: null, score: 11 };
            for (const [key, value] of Object.entries(scores)) {
                if (value < lowest.score) {
                    lowest = { category: key, score: value };
                }
            }
            return lowest.category;
        }

        // ========================================
        // RADAR CHART
        // ========================================

        function drawRadarChart(scores, goals) {
            const svg = document.getElementById('radarChart');
            const centerX = 250;
            const centerY = 250;
            const maxRadius = 160;
            const categories = Object.keys(scores);
            const values = Object.values(scores);
            const goalValues = goals ? categories.map(cat => goals[cat] || values[categories.indexOf(cat)]) : null;
            const numCategories = categories.length;
            const angleStep = (2 * Math.PI) / numCategories;

            svg.innerHTML = '';

            // Background rings
            [10, 8, 6, 4, 2].forEach((level) => {
                const radius = (level / 10) * maxRadius;
                let points = [];
                for (let i = 0; i < numCategories; i++) {
                    const angle = i * angleStep - Math.PI / 2;
                    const x = centerX + radius * Math.cos(angle);
                    const y = centerY + radius * Math.sin(angle);
                    points.push(`${x},${y}`);
                }
                const polygon = document.createElementNS('http://www.w3.org/2000/svg', 'polygon');
                polygon.setAttribute('points', points.join(' '));
                polygon.setAttribute('fill', 'none');
                polygon.setAttribute('stroke', '#E7E5E4');
                polygon.setAttribute('stroke-width', '1');
                svg.appendChild(polygon);
            });

            // Axis lines
            for (let i = 0; i < numCategories; i++) {
                const angle = i * angleStep - Math.PI / 2;
                const x = centerX + maxRadius * Math.cos(angle);
                const y = centerY + maxRadius * Math.sin(angle);
                const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                line.setAttribute('x1', centerX);
                line.setAttribute('y1', centerY);
                line.setAttribute('x2', x);
                line.setAttribute('y2', y);
                line.setAttribute('stroke', '#E7E5E4');
                line.setAttribute('stroke-width', '1');
                svg.appendChild(line);
            }

            // Goal polygon (dashed)
            if (goalValues) {
                let goalPoints = [];
                for (let i = 0; i < numCategories; i++) {
                    const value = goalValues[i];
                    const radius = (value / 10) * maxRadius;
                    const angle = i * angleStep - Math.PI / 2;
                    const x = centerX + radius * Math.cos(angle);
                    const y = centerY + radius * Math.sin(angle);
                    goalPoints.push(`${x},${y}`);
                }
                const goalPolygon = document.createElementNS('http://www.w3.org/2000/svg', 'polygon');
                goalPolygon.setAttribute('points', goalPoints.join(' '));
                goalPolygon.setAttribute('fill', 'none');
                goalPolygon.setAttribute('stroke', '#9CA3AF');
                goalPolygon.setAttribute('stroke-width', '2');
                goalPolygon.setAttribute('stroke-dasharray', '8,4');
                svg.appendChild(goalPolygon);
            }

            // Calculate data points
            let dataPoints = [];
            for (let i = 0; i < numCategories; i++) {
                const value = values[i];
                const radius = (value / 10) * maxRadius;
                const angle = i * angleStep - Math.PI / 2;
                const x = centerX + radius * Math.cos(angle);
                const y = centerY + radius * Math.sin(angle);
                dataPoints.push({ x, y, value, category: categories[i] });
            }

            // Data polygon
            const dataPolygon = document.createElementNS('http://www.w3.org/2000/svg', 'polygon');
            dataPolygon.setAttribute('points', dataPoints.map(p => `${p.x},${p.y}`).join(' '));
            dataPolygon.setAttribute('fill', 'rgba(0, 144, 90, 0.3)');
            dataPolygon.setAttribute('stroke', '#00905A');
            dataPolygon.setAttribute('stroke-width', '2');
            svg.appendChild(dataPolygon);

            // Data points (circles)
            dataPoints.forEach(point => {
                const circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
                circle.setAttribute('cx', point.x);
                circle.setAttribute('cy', point.y);
                circle.setAttribute('r', '5');
                circle.setAttribute('fill', '#00905A');
                circle.setAttribute('stroke', 'white');
                circle.setAttribute('stroke-width', '2');
                svg.appendChild(circle);
            });

            // Labels
            for (let i = 0; i < numCategories; i++) {
                const angle = i * angleStep - Math.PI / 2;
                const labelRadius = maxRadius + 50;
                let x = centerX + labelRadius * Math.cos(angle);
                let y = centerY + labelRadius * Math.sin(angle);

                const config = SCORE_CONFIG[categories[i]];
                const labelLine1 = config ? config.labelLine1 : categories[i];
                const labelLine2 = config ? config.labelLine2 : "";
                const hasSecondLine = labelLine2 && labelLine2.length > 0;

                const text1 = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                text1.setAttribute('x', x);
                text1.setAttribute('y', hasSecondLine ? y - 7 : y);
                text1.setAttribute('text-anchor', 'middle');
                text1.setAttribute('dominant-baseline', 'middle');
                text1.setAttribute('fill', '#29484C');
                text1.setAttribute('font-size', '12');
                text1.setAttribute('font-family', 'Poppins, sans-serif');
                text1.textContent = labelLine1;
                svg.appendChild(text1);

                if (hasSecondLine) {
                    const text2 = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                    text2.setAttribute('x', x);
                    text2.setAttribute('y', y + 7);
                    text2.setAttribute('text-anchor', 'middle');
                    text2.setAttribute('dominant-baseline', 'middle');
                    text2.setAttribute('fill', '#29484C');
                    text2.setAttribute('font-size', '12');
                    text2.setAttribute('font-family', 'Poppins, sans-serif');
                    text2.textContent = labelLine2;
                    svg.appendChild(text2);
                }

                const scoreY = hasSecondLine ? y + 22 : y + 14;
                const scoreText = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                scoreText.setAttribute('x', x);
                scoreText.setAttribute('y', scoreY);
                scoreText.setAttribute('text-anchor', 'middle');
                scoreText.setAttribute('dominant-baseline', 'middle');
                scoreText.setAttribute('fill', '#00905A');
                scoreText.setAttribute('font-size', '11');
                scoreText.setAttribute('font-weight', '600');
                scoreText.setAttribute('font-family', 'Poppins, sans-serif');
                scoreText.textContent = values[i] + '/10';
                svg.appendChild(scoreText);
            }
        }

        // ========================================
        // HABIT PLANNING FUNCTIONS
        // ========================================

        // Checkbox toggle for routines
        document.querySelectorAll('.checkbox-item').forEach(item => {
            item.addEventListener('click', function() {
                this.classList.toggle('selected');
                const checkbox = this.querySelector('input[type="checkbox"]');
                checkbox.checked = !checkbox.checked;
            });
        });

        // Form submission
        document.getElementById('contextForm').addEventListener('submit', async function(e) {
            e.preventDefault();

            const btn = document.getElementById('generateBtn');
            btn.disabled = true;
            btn.innerHTML = '<span class="spinner"></span> <span>Generating habits...</span>';

            // Collect context data
            const contextData = {
                wakeUpTime: document.getElementById('wakeUpTime').value,
                workLocation: document.getElementById('workLocation').value,
                energyPeak: document.getElementById('energyPeak').value,
                routines: Array.from(document.querySelectorAll('input[name="routines"]:checked')).map(cb => cb.value),
                biggestHurdle: document.getElementById('biggestHurdle').value,
                focusArea: document.getElementById('focusArea').value
            };

            // Payload for webhook
            const payload = {
                user: {
                    name: currentData.name,
                    email: currentData.email || ''
                },
                scores: currentData.scores,
                answers: currentData.answers,
                context: contextData,
                lowestScore: getLowestScoreCategory(currentData.scores)
            };

            try {
                const response = await fetch(HABIT_WEBHOOK_URL, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(payload)
                });

                if (!response.ok) {
                    throw new Error('Webhook error');
                }

                const habits = await response.json();
                displayHabitSuggestions(habits);

            } catch (error) {
                console.error('Error:', error);
                // Fallback: Show demo habits
                displayHabitSuggestions(generateDemoHabits(contextData));
            }

            btn.disabled = false;
            btn.innerHTML = '<span>Generate My Habits</span>';
        });

        // Generate demo habits (fallback)
        function generateDemoHabits(context) {
            const routineAnchors = {
                morning_coffee: "After your first sip of coffee",
                breakfast: "After breakfast",
                lunch_break: "After lunch",
                end_of_work: "When you get home",
                dinner: "After dinner",
                brushing_teeth: "After brushing teeth"
            };

            const firstRoutine = context.routines[0] || 'morning_coffee';
            const anchor = routineAnchors[firstRoutine];

            return {
                habits: [
                    {
                        category: "Energy",
                        formula: `${anchor} → Take 3 deep breaths`,
                        why: "Activates your parasympathetic nervous system and gives instant energy."
                    },
                    {
                        category: "Nutrition",
                        formula: "After waking up → Drink a glass of water",
                        why: "Your body is dehydrated after sleep. Water kickstarts your metabolism."
                    },
                    {
                        category: "Movement",
                        formula: "After lunch → Walk around the block for 5 minutes",
                        why: "Short movement after eating improves digestion and prevents the afternoon slump."
                    },
                    {
                        category: "Sleep",
                        formula: "After dinner → Put phone on night mode",
                        why: "Reduces blue light and signals to your body that the day is ending."
                    },
                    {
                        category: "Mindset",
                        formula: "After brushing teeth in the evening → Write down one thing that went well today",
                        why: "Gratitude journaling has been proven to improve sleep and wellbeing."
                    }
                ]
            };
        }

        // Display habit suggestions
        function displayHabitSuggestions(data) {
            const form = document.getElementById('contextForm');
            const suggestions = document.getElementById('habitSuggestions');
            const list = document.getElementById('habitSuggestionsList');

            form.classList.add('hidden');
            suggestions.classList.add('visible');

            list.innerHTML = '';

            data.habits.forEach((habit, index) => {
                const card = document.createElement('div');
                card.className = 'habit-suggestion-card';
                card.dataset.index = index;
                card.innerHTML = `
                    <div class="select-indicator">✓</div>
                    <div class="habit-category">${habit.category}</div>
                    <div class="habit-formula">${habit.formula}</div>
                    <div class="habit-why">${habit.why}</div>
                `;
                card.addEventListener('click', () => toggleHabitSelection(card, habit));
                list.appendChild(card);
            });

            // Store habits for later
            window.generatedHabits = data.habits;
        }

        // Toggle habit selection
        function toggleHabitSelection(card, habit) {
            card.classList.toggle('selected');

            if (card.classList.contains('selected')) {
                selectedHabits.push(habit);
            } else {
                selectedHabits = selectedHabits.filter(h => h.formula !== habit.formula);
            }

            // Show save button if at least 1 habit selected
            const saveBtn = document.getElementById('saveHabitsBtn');
            if (selectedHabits.length > 0) {
                saveBtn.classList.add('visible');
            } else {
                saveBtn.classList.remove('visible');
            }
        }

        // Custom habit toggle
        function toggleCustomHabit() {
            const input = document.getElementById('customHabitInput');
            input.classList.toggle('visible');
        }

        // Save selected habits
        async function saveSelectedHabits() {
            const customHabit = document.getElementById('customHabitText').value;

            if (customHabit) {
                selectedHabits.push({
                    category: "Custom",
                    formula: customHabit,
                    why: "Self-defined habit"
                });
            }

            const payload = {
                user: {
                    name: currentData.name,
                    email: currentData.email || ''
                },
                selectedHabits: selectedHabits,
                scores: currentData.scores,
                timestamp: new Date().toISOString()
            };

            try {
                await fetch(SAVE_HABITS_WEBHOOK_URL, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(payload)
                });
            } catch (error) {
                console.error('Error saving:', error);
            }

            // Show success message
            document.getElementById('habitSuggestions').classList.remove('visible');
            document.getElementById('successMessage').classList.add('visible');
        }

        // ========================================
        // RENDER DASHBOARD
        // ========================================

        function renderDashboard() {
            currentData = loadData();

            // Personal data
            document.getElementById('userName').textContent = currentData.name || 'Participant';
            document.getElementById('testDate').textContent = currentData.testDate || new Date().toLocaleDateString('en-US');
            document.getElementById('age').textContent = currentData.age || '-';
            document.getElementById('gender').textContent = currentData.gender || '-';
            document.getElementById('bmi').textContent = currentData.bmi ? currentData.bmi.toFixed(1) : '-';
            document.getElementById('height').textContent = currentData.height || '-';

            // Calculate scores
            const scores = currentData.scores || {};
            const goals = currentData.goals || null;
            const scoreValues = Object.values(scores);
            const totalScore = scoreValues.reduce((a, b) => a + b, 0);
            const maxScore = scoreValues.length * 10;
            const percentage = Math.round((totalScore / maxScore) * 100);

            document.getElementById('percentage').textContent = percentage + '%';
            document.getElementById('totalPoints').textContent = totalScore + '/' + maxScore + ' Points';

            // Radar Chart
            drawRadarChart(scores, goals);

            // Accordions
            const accordionList = document.getElementById('accordionList');
            accordionList.innerHTML = '';

            Object.entries(scores).forEach(([key, value]) => {
                const config = SCORE_CONFIG[key] || { label: key, questions: [] };
                const scoreClass = getScoreClass(value);
                const answers = currentData.answers && currentData.answers[key] ? currentData.answers[key] : {};

                let answersHTML = '';
                config.questions.forEach(q => {
                    const answer = answers[q.id] || '-';
                    answersHTML += `
                        <div class="answer-item">
                            <div class="answer-question">${q.question}</div>
                            <div class="answer-value">${answer}</div>
                        </div>
                    `;
                });

                accordionList.innerHTML += `
                    <div class="accordion" onclick="toggleAccordion(this)">
                        <div class="accordion-header">
                            <div class="accordion-title">
                                <span>${config.label}</span>
                            </div>
                            <div class="accordion-right">
                                <span class="accordion-score">${value}/10</span>
                                <span class="accordion-arrow">▼</span>
                            </div>
                        </div>
                        <div class="accordion-content">
                            <div class="accordion-inner">
                                <div class="score-bar-container">
                                    <div class="score-bar-bg">
                                        <div class="score-bar-fill ${scoreClass}" style="width: ${value * 10}%"></div>
                                    </div>
                                </div>
                                ${answersHTML}
                            </div>
                        </div>
                    </div>
                `;
            });

            // AI Summary
            if (currentData.aiRecommendations && currentData.aiRecommendations.summary) {
                document.getElementById('summaryText').textContent = currentData.aiRecommendations.summary;
            }

            // Recommendations
            const recommendationsList = document.getElementById('recommendationsList');
            recommendationsList.innerHTML = '';

            if (currentData.aiRecommendations && currentData.aiRecommendations.priorities) {
                currentData.aiRecommendations.priorities.forEach((rec, index) => {
                    recommendationsList.innerHTML += `
                        <div class="recommendation">
                            <div class="recommendation-domain">#${index + 1} ${rec.domain}</div>
                            <p class="recommendation-reason">${rec.reason}</p>
                            <div class="habit-box">
                                <div class="habit-label">Your Tiny Habit</div>
                                <div class="habit-text">${rec.habit}</div>
                            </div>
                            <p class="expected-result">${rec.expected}</p>
                        </div>
                    `;
                });
            }
        }

        // Load dashboard
        document.addEventListener('DOMContentLoaded', renderDashboard);
    </script>
</body>
</html>
